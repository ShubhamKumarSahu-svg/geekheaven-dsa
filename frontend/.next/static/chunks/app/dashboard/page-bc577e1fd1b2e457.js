(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{64:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var a=r(5155),s=r(1680),n=r(1978),o=r(6981),i=r(5196),l=r(2515);function d(e){let{className:t,...r}=e;return(0,a.jsx)(o.bL,{"data-slot":"checkbox",className:(0,l.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,a.jsx)(o.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(i.A,{className:"size-3.5"})})})}var c=r(5665),u=r(2108);let m=e=>{let{difficulty:t}=e,r={Easy:"bg-green-900/50 text-green-300 border-green-700",Medium:"bg-yellow-900/50 text-yellow-300 border-yellow-700",Hard:"bg-red-900/50 text-red-300 border-red-700"}[t]||"bg-secondary text-secondary-foreground border-border";return(0,a.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full border ".concat(r),children:t})},x=e=>{var t,r,o,i;let{question:l}=e,{isAuthenticated:x,user:h,toggleQuestionProgress:f,toggleQuestionBookmark:p}=(0,c.A)(),v=null!=(o=null==h||null==(t=h.completedQuestions)?void 0:t.some(e=>e._id===l._id))&&o,g=null!=(i=null==h||null==(r=h.bookmarkedQuestions)?void 0:r.some(e=>e._id===l._id))&&i;return(0,a.jsxs)(s.As,{value:l._id,className:"border-b",children:[(0,a.jsxs)(s.$m,{className:"flex items-center justify-between gap-4 p-4 rounded-lg transition-colors duration-200 hover:bg-muted/70 hover:no-underline",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-grow",children:[x&&(0,a.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),f(l._id)},className:"flex items-center h-full cursor-pointer",children:(0,a.jsx)(d,{checked:v})}),(0,a.jsx)("span",{className:"text-card-foreground text-base md:text-lg text-left",children:l.title})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(m,{difficulty:l.difficulty}),x&&(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),p(l._id)},title:"Toggle Bookmark",className:"rounded-full p-1",children:(0,a.jsx)(u.A,{className:"w-5 h-5 transition-all ".concat(g?"text-yellow-400 fill-yellow-400":"text-muted-foreground group-hover:text-foreground")})})]})]}),(0,a.jsx)(s.ub,{className:"px-6 pb-4 pt-2",children:l.url&&l.url.length>0?(0,a.jsx)("div",{className:"flex flex-col gap-2",children:l.url.map((e,t)=>(0,a.jsx)(n.$,{asChild:!0,variant:"outline",className:"justify-start h-8 px-2 text-sm",children:(0,a.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:["Open Link ",t+1]})},t))}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No links available."})})]})}},1680:(e,t,r)=>{"use strict";r.d(t,{$m:()=>d,As:()=>l,nD:()=>i,ub:()=>c});var a=r(5155),s=r(3478),n=r(6474),o=r(2515);function i(e){return(0,a.jsx)(s.bL,{"data-slot":"accordion",...e})}function l(e){let{className:t,...r}=e;return(0,a.jsx)(s.q7,{"data-slot":"accordion-item",className:(0,o.cn)("border-b last:border-b-0",t),...r})}function d(e){let{className:t,children:r,...i}=e;return(0,a.jsx)(s.Y9,{className:"flex",children:(0,a.jsxs)(s.l9,{"data-slot":"accordion-trigger",className:(0,o.cn)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...i,children:[r,(0,a.jsx)(n.A,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function c(e){let{className:t,children:r,...n}=e;return(0,a.jsx)(s.UC,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:(0,a.jsx)("div",{className:(0,o.cn)("pt-0 pb-4",t),children:r})})}},1978:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var a=r(5155),s=r(9708),n=r(2085),o=r(2515);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:n,asChild:l=!1,...d}=e,c=l?s.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,o.cn)(i({variant:r,size:n,className:t})),...d})}},2515:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.A)(t))}},2952:(e,t,r)=>{Promise.resolve().then(r.bind(r,6239))},3800:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>l,ZB:()=>i,Zp:()=>n,aR:()=>o});var a=r(5155),s=r(2515);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...r})}},5665:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,AuthProvider:()=>o});var a=r(5155),s=r(2115);let n=(0,s.createContext)(),o=e=>{let{children:t}=e,[r,o]=(0,s.useState)(null),[i,l]=(0,s.useState)(null),[d,c]=(0,s.useState)(!0),u=async e=>{try{let t=await fetch("/api/v1/user/profile",{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("Failed to fetch profile");let{data:r}=await t.json();o(r)}catch(e){console.log("Error in fetchUserprofile AuthProvider",e.message),m()}finally{c(!1)}};(0,s.useEffect)(()=>{let e=localStorage.getItem("token");e?(l(e),u(e)):c(!1)},[]);let m=()=>{o(null),l(null),localStorage.removeItem("user"),localStorage.removeItem("token")},x=(e,t)=>async a=>{if(!i||!r)return;let s={...r},n=r[e]||[],l=n.some(e=>e._id===a)?n.filter(e=>e._id!==a):[...n,{_id:a}];o({...r,[e]:l});try{if(!(await fetch("/api/v1/user/".concat(t),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},body:JSON.stringify({questionId:a})})).ok)throw Error("Failed to update ".concat(t));await u(i)}catch(e){console.error(e),o(s)}},h=x("completedQuestions","progress"),f=x("bookmarkedQuestions","bookmark");return(0,a.jsx)(n.Provider,{value:{user:r,token:i,login:(e,t)=>{localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify({id:e.id,name:e.name,email:e.email})),l(t),u(t)},logout:m,isAuthenticated:!!i,isLoading:d,toggleQuestionProgress:h,toggleQuestionBookmark:f},children:t})},i=()=>{let e=(0,s.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},6239:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>z});var a=r(5155),s=r(64),n=r(1680),o=r(3800),i=r(2115),l=r(6081),d=r(3655),c="Progress",[u,m]=(0,l.A)(c),[x,h]=u(c),f=i.forwardRef((e,t)=>{var r,s,n,o;let{__scopeProgress:i,value:l=null,max:c,getValueLabel:u=g,...m}=e;(c||0===c)&&!y(c)&&console.error((r="".concat(c),s="Progress","Invalid prop `max` of value `".concat(r,"` supplied to `").concat(s,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let h=y(c)?c:100;null===l||N(l,h)||console.error((n="".concat(l),o="Progress","Invalid prop `value` of value `".concat(n,"` supplied to `").concat(o,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let f=N(l,h)?l:null,p=j(f)?u(f,h):void 0;return(0,a.jsx)(x,{scope:i,value:f,max:h,children:(0,a.jsx)(d.sG.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":j(f)?f:void 0,"aria-valuetext":p,role:"progressbar","data-state":b(f,h),"data-value":null!=f?f:void 0,"data-max":h,...m,ref:t})})});f.displayName=c;var p="ProgressIndicator",v=i.forwardRef((e,t)=>{var r;let{__scopeProgress:s,...n}=e,o=h(p,s);return(0,a.jsx)(d.sG.div,{"data-state":b(o.value,o.max),"data-value":null!=(r=o.value)?r:void 0,"data-max":o.max,...n,ref:t})});function g(e,t){return"".concat(Math.round(e/t*100),"%")}function b(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function j(e){return"number"==typeof e}function y(e){return j(e)&&!isNaN(e)&&e>0}function N(e,t){return j(e)&&!isNaN(e)&&e<=t&&e>=0}v.displayName=p;var k=r(2515);function w(e){let{className:t,value:r,...s}=e;return(0,a.jsx)(f,{"data-slot":"progress",className:(0,k.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...s,children:(0,a.jsx)(v,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})}var A=r(5665),_=r(6874),P=r.n(_),S=r(5695);let E=()=>(0,a.jsxs)("div",{className:"space-y-8 animate-pulse",children:[(0,a.jsx)("div",{className:"h-10 bg-muted rounded w-3/4"}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)("div",{className:"h-8 bg-muted rounded w-1/2"})}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)("div",{className:"h-12 bg-muted rounded w-full"})})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)("div",{className:"h-8 bg-muted rounded w-1/3"})}),(0,a.jsxs)(o.Wu,{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-14 bg-muted rounded"}),(0,a.jsx)("div",{className:"h-14 bg-muted rounded"})]})]})]});function z(){var e;let{user:t,isAuthenticated:r,isLoading:l}=(0,A.A)(),d=(0,S.useRouter)(),[c,u]=(0,i.useState)(null),[m,x]=(0,i.useState)(!0);if((0,i.useEffect)(()=>{l||r||d.push("/login")},[r,l,d]),(0,i.useEffect)(()=>{r&&(async()=>{x(!0);try{let e=await fetch("http://localhost:5000/api/v1/content"),t=await e.json();if(!(null==t?void 0:t.data))throw Error("Invalid API response");let r=0;for(let e of t.data)Array.isArray(e.questions)&&(r+=e.questions.length);u(r)}catch(e){console.error("Failed to fetch total questions count",e),u(0)}finally{x(!1)}})()},[r]),l||m||!t||null===c)return(0,a.jsx)("main",{className:"min-h-screen bg-background text-foreground p-4 sm:p-8",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsx)(E,{})})});let h=(null==(e=t.completedQuestions)?void 0:e.length)||0,f=c>0?h/c*100:0;return(0,a.jsx)("main",{className:"min-h-screen bg-background text-foreground p-4 sm:p-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,a.jsxs)("header",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold",children:"Your Dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"A summary of your progress and bookmarks."})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)(o.ZB,{children:"Overall Progress"})}),(0,a.jsxs)(o.Wu,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsx)(w,{value:f,className:"w-full"}),(0,a.jsxs)("span",{className:"font-semibold text-lg",children:[Math.round(f),"%"]})]}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:["You have completed ",h," out of ",c," ","questions. Keep it up!"]})]})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)(o.ZB,{children:"Bookmarked Questions"})}),(0,a.jsx)(o.Wu,{children:t.bookmarkedQuestions&&t.bookmarkedQuestions.length>0?(0,a.jsx)(n.nD,{type:"multiple",className:"space-y-3",children:t.bookmarkedQuestions.map(e=>(0,a.jsx)(s.A,{question:e},e._id))}):(0,a.jsxs)("p",{className:"text-muted-foreground",children:["You haven't bookmarked any questions yet. Go to the"," ",(0,a.jsx)(P(),{href:"/questions",className:"text-primary hover:underline",children:"questions page"})," ","to save some for later."]})})]})]})})}}},e=>{e.O(0,[277,823,271,874,441,964,358],()=>e(e.s=2952)),_N_E=e.O()}]);